(this.webpackJsonptask_handler=this.webpackJsonptask_handler||[]).push([[0],{144:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a(0),r=a.n(o),c=a(10),i=a.n(c),l=a(48),s=a(12),u=a(195),d=a(180),j=a(177),m=a(190),h=a(178),b=a(193),f=a(182),x=a(181),p=a(191),g=a(58),O=a.n(g),v=a(92),y=a(175),C=a(176),N=a(15),w=a.n(N);function k(){return Object(n.jsxs)(v.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","Satyendra Tiwari"," ",(new Date).getFullYear(),"."]})}var S=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var T=function(e){var t=S(),a=" ",o=" ",r=Object(s.f)();return Object(n.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(j.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(u.a,{className:t.avatar,children:Object(n.jsx)(O.a,{})}),Object(n.jsx)(v.a,{component:"h1",variant:"h5",children:"Login"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return a=e.target.value}}),Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return o=e.target.value}}),Object(n.jsx)(h.a,{control:Object(n.jsx)(b.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault();var t={email:a,password:o};w.a.post("/login",t).then((function(e){localStorage.setItem("AuthToken","Bearer ".concat(e.data.token)),console.log("login successfull "),r.push("/")})).catch((function(e){console.error("invalid User email or password ")}))},children:"Login"}),Object(n.jsx)(x.a,{container:!0,children:Object(n.jsx)(x.a,{item:!0,children:Object(n.jsx)(f.a,{href:"/#/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(n.jsx)(p.a,{mt:8,children:Object(n.jsx)(k,{})})]})},I=a(29),A=a(91),W=a(196),B=a(188),D=a(189),P=a(89),q=a.n(P),F=a(179),E=a(90),_=a.n(E),z=a(31),L=a(94),V=a(183),M=a(184),U=a(185),R=a(186);function G(e){null===localStorage.getItem("AuthToken")&&e.push("/login")}var J=Object(y.a)((function(e){return{paper_root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),height:e.spacing(16)}}}}));function Y(e){var t=J(),a=r.a.useState({firstName:"",lastName:"",username:"",email:"",phoneNumber:"",country:""}),o=Object(I.a)(a,2),c=o[0],i=o[1];r.a.useEffect((function(){G(e);var t=localStorage.getItem("AuthToken");w.a.defaults.headers.common={Authorization:"".concat(t)},w.a.get("/user").then((function(e){i({firstName:e.data.userCredentials.firstName,lastName:e.data.userCredentials.lastName,email:e.data.userCredentials.email,phoneNumber:e.data.userCredentials.phoneNumber,country:e.data.userCredentials.country,username:e.data.userCredentials.username})})).catch((function(t){console.log(t),e.push("/login")}))}),[]);var l=function(e){e.preventDefault(),console.log("in handle change function ");var t=e.target.value,a=e.target.name;"firstName"===a?i((function(e){return Object(z.a)(Object(z.a)({},e),{},{firstName:t})})):"lastName"===a?i((function(e){return Object(z.a)(Object(z.a)({},e),{},{lastName:t})})):"country"===a&&i((function(e){return Object(z.a)(Object(z.a)({},e),{},{country:t})})),console.log(c),console.log(a)},s=[];if(""!==c.firstName)for(var u in c)"email"===u||"phoneNumber"===u||"username"===u?s.push(Object(n.jsx)(x.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(m.a,{id:u,disabled:!0,fullWidth:!0,label:u,margin:"dense",name:u,variant:"outlined",defaultValue:c[u],onChange:l})})):s.push(Object(n.jsx)(x.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(m.a,{id:u,fullWidth:!0,label:u,margin:"dense",name:u,variant:"outlined",defaultValue:c[u],onChange:l})}));return Object(n.jsxs)("div",{children:[Object(n.jsxs)(V.a,{children:[Object(n.jsx)(M.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(L.a,{elevation:3,className:t.paper_root,children:[Object(n.jsx)(v.a,{gutterBottom:!0,variant:"h3",children:"".concat(c.firstName," ").concat(c.lastName)}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{guttetrBottom:!0,variant:"h3",children:"( ".concat(c.username," )")})]})})}),Object(n.jsx)(U.a,{})]}),Object(n.jsx)("br",{}),Object(n.jsx)(V.a,{children:Object(n.jsxs)("form",{autoComplete:"off",noValidate:!0,children:[Object(n.jsx)(U.a,{}),Object(n.jsx)(M.a,{children:Object(n.jsx)(x.a,{container:!0,spacing:3,children:s})}),Object(n.jsx)(U.a,{}),Object(n.jsx)(R.a,{})]})}),Object(n.jsx)(d.a,{color:"primary",variant:"contained",type:"submit",onClick:function(t){t.preventDefault(),G(e);var a=localStorage.getItem("AuthToken");w.a.defaults.headers.common={Authorization:"".concat(a)};var n={firstName:c.firstName,lastName:c.lastName,country:c.country};w.a.post("/user",n).then((function(e){console.log(e),window.location.reload()})).catch((function(t){403===t.response.status&&e.push("/login"),console.log(t)}))},disabled:!c.firstName||!c.lastName||!c.country,children:"Save details"})]})}var H=a(87),K=a.n(H),Q=a(85),X=a.n(Q),Z=a(86),$=a.n(Z),ee=a(194),te=a(88),ae=a.n(te),ne=a(187),oe=Object(y.a)((function(e){return{car_title:{fontSize:14},card_root:{minWidth:275},adder:{margin:e.spacing(2),position:"relative"},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),re=r.a.forwardRef((function(e,t){return Object(n.jsx)(ne.a,Object(z.a)({direction:"up",ref:t},e))}));function ce(e){var t=oe(),a=r.a.useState(!1),o=Object(I.a)(a,2),c=o[0],i=o[1],l=r.a.useState(null),s=Object(I.a)(l,2),u=s[0],j=s[1],h=r.a.useState({title:"",body:""}),b=Object(I.a)(h,2),f=b[0],p=b[1],g=r.a.useState(null),O=Object(I.a)(g,2),y=O[0],C=O[1];r.a.useEffect((function(){var e=localStorage.getItem("AuthToken");w.a.defaults.headers.common={Authorization:"".concat(e)},w.a.get("/todos").then((function(e){j(e.data)})).catch((function(e){console.log(e)}))}),[]);var N,k=function(){i(!1)},S=function(e){e.preventDefault(),C(e.target.id),p({body:e.target.value})},T=function(){var e={url:"/todo/".concat(y),method:"put",data:f},t=localStorage.getItem("AuthToken");w.a.defaults.headers.common={Authorization:"".concat(t)},w()(e).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e)}))};return null!==u&&(N=u.map((function(e){return Object(n.jsxs)(V.a,{item:!0,xs:4,spacing:3,className:t.card_root,id:e.todoId,children:[Object(n.jsxs)(M.a,{children:[Object(n.jsx)(v.a,{className:t.card_title,color:"textSecondary",gutterBottom:!0,children:e.title}),Object(n.jsx)("br",{}),Object(n.jsx)(m.a,{defaultValue:e.body,id:e.todoId,InputProps:{disableUnderline:!0},onChange:S})]}),Object(n.jsxs)(R.a,{children:[Object(n.jsxs)(d.a,{color:"primary",onClick:T,children:[" ",Object(n.jsx)(X.a,{})," save Edit "]}),Object(n.jsxs)(d.a,{color:"primary",onClick:function(t){!function(e){var t={url:"/todo/".concat(e),method:"delete"},a=localStorage.getItem("AuthToken");w.a.defaults.headers.common={Authorization:"".concat(a)},w()(t).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.log(e)}))}(e.todoId)},children:[" ",Object(n.jsx)($.a,{})," Delete "]})]})]},e.todoId)}))),Object(n.jsxs)("div",{children:[Object(n.jsxs)(x.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.adder,children:[Object(n.jsxs)(d.a,{variant:"outlined",color:"primary",onClick:function(){i(!0)},children:[Object(n.jsx)(K.a,{}),"Add More Todos"]}),Object(n.jsxs)(ee.a,{fullScreen:!0,open:c,onClose:k,TransitionComponent:re,children:[Object(n.jsx)(B.a,{className:t.appBar,children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(F.a,{edge:"start",color:"inherit",onClick:k,"aria-label":"close",children:Object(n.jsx)(ae.a,{})}),Object(n.jsx)(v.a,{variant:"h6",className:t.title,children:"Add Todo"}),Object(n.jsx)(d.a,{autoFocus:!0,color:"inherit",onClick:function(){k(),console.log(f);var e=localStorage.getItem("AuthToken");w.a.defaults.headers.common={Authorization:"".concat(e)};var t={url:"/todo",method:"post",data:f};w()(t).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.log(e)}))},children:"save"})]})}),Object(n.jsxs)("form",{noValidate:!0,children:[Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",autoComplete:"title",autoFocus:!0,onChange:function(e){p({title:e.target.value,body:f.body})}}),Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"body",label:"Body",type:"input",id:"body",onChange:function(e){p({title:f.title,body:e.target.value})}})]})]})]}),Object(n.jsx)(x.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",children:N})]})}var ie=Object(y.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},car_title:{fontSize:14},card_root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"}}}));function le(e){var t=ie(),a=Object(s.f)();G(a);var o=function(){localStorage.clear(),G(a)},c=r.a.useState(null),i=Object(I.a)(c,2),l=i[0],u=i[1],j=r.a.useState(null),m=Object(I.a)(j,2),h=m[0],b=m[1],f=function(){return"account"===h?Object(n.jsx)(Y,{history:a}):Object(n.jsx)(ce,{history:a})},x=function(e){u(null),"todos"===e.target.id&&b("todo"),"account"===e.target.id&&b("account"),"logout"===e.target.id&&o(),console.log(e.target.id)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(B.a,{position:"static",children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(F.a,{edge:"start",className:t.menuButton,color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},children:Object(n.jsx)(q.a,{})}),Object(n.jsxs)(A.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(){u(null)},children:[Object(n.jsx)(W.a,{id:"todos",onClick:x,children:"Todos"}),Object(n.jsx)(W.a,{id:"account",onClick:x,children:"My account"}),Object(n.jsx)(W.a,{id:"logout",onClick:x,children:"Logout"})]}),Object(n.jsx)(v.a,{variant:"h6",className:t.title,children:"Todo App"}),Object(n.jsxs)(d.a,{variant:"contained",onClick:o,children:[" ",Object(n.jsx)(_.a,{})," Logout "]})]})}),Object(n.jsx)(f,{})]})}function se(){return Object(n.jsxs)(v.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(f.a,{color:"inherit",href:"/",children:"Satyendra Tiwari"})," ",(new Date).getFullYear(),"."]})}var ue=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function de(e){var t=ue(),a=Object(s.f)(),o={firstName:"",lastName:"",email:"",phoneNumber:"",country:"",password:"",confirmPassword:"",username:""};return Object(n.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(j.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(u.a,{className:t.avatar,children:Object(n.jsx)(O.a,{})}),Object(n.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsxs)(x.a,{container:!0,spacing:2,children:[Object(n.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return o.firstName=e.target.value}})}),Object(n.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return o.lastName=e.target.value}})}),Object(n.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{autoComplete:"phoneNumber",name:"PhoneNumber",variant:"outlined",required:!0,fullWidth:!0,id:"PhoneNumber",label:"PhoneNumber",pattern:"[7-9]{1}[0-9]{9}",autoFocus:!0,onChange:function(e){return o.phoneNumber=e.target.value}})}),Object(n.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"Country",label:"Country",name:"Country",autoComplete:"INDIA",onChange:function(e){return o.country=e.target.value}})}),Object(n.jsx)(x.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"username",name:"username",autoComplete:"username",onChange:function(e){return o.username=e.target.value}})}),Object(n.jsx)(x.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return o.email=e.target.value}})}),Object(n.jsx)(x.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return o.password=e.target.value}})}),Object(n.jsx)(x.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"confirmPassword",type:"password",id:"confirmPassword",autoComplete:"current-password",onChange:function(e){return o.confirmPassword=e.target.value}})}),Object(n.jsx)(x.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{control:Object(n.jsx)(b.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive updates via email."})})]}),Object(n.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault(),w.a.post("/signup",o).then((function(e){localStorage.setItem("AuthToken","Bearer ".concat(e.data.token)),a.push("/"),console.log(e.data.token)})).catch((function(e){alert("Email or userName already in use"),console.log(e)}))},children:"Sign Up"}),Object(n.jsx)(x.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(x.a,{item:!0,children:Object(n.jsx)(f.a,{href:"/#/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(n.jsx)(p.a,{mt:5,children:Object(n.jsx)(se,{})})]})}var je=function(){return Object(n.jsx)(l.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(s.c,{children:[Object(n.jsx)(s.a,{exact:!0,path:"/",component:le}),Object(n.jsx)(s.a,{exact:!0,path:"/login",component:T}),Object(n.jsx)(s.a,{exact:!0,path:"/signup",component:de})]})})})},me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,198)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),o(e),r(e),c(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(je,{})}),document.getElementById("root")),me()}},[[144,1,2]]]);
//# sourceMappingURL=main.ab109b4f.chunk.js.map