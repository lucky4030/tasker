(this.webpackJsonptask_handler=this.webpackJsonptask_handler||[]).push([[0],{141:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a(0),r=a.n(o),i=a(10),c=a.n(i),s=a(31),l=a(12),u=a(192),d=a(178),j=a(175),m=a(187),b=a(176),h=a(190),f=a(179),x=a(188),p=a(58),g=a.n(p),O=a(142),v=a(173),y=a(174),C=a(15),N=a.n(C);function w(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","Satyendra Tiwari"," ",(new Date).getFullYear(),"."]})}var k=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var S=function(e){var t=k(),a=" ",o=" ",r=Object(l.f)();return Object(n.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(j.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(u.a,{className:t.avatar,children:Object(n.jsx)(g.a,{})}),Object(n.jsx)(O.a,{component:"h1",variant:"h5",children:"Login"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return a=e.target.value}}),Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return o=e.target.value}}),Object(n.jsx)(b.a,{control:Object(n.jsx)(h.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault();var t={email:a,password:o};N.a.post("/login",t).then((function(e){sessionStorage.setItem("AuthToken","Bearer ".concat(e.data.token)),console.log("login successfull "),r.push("/")})).catch((function(e){console.error("invalid User email or password ")}))},children:"Login"}),Object(n.jsx)(f.a,{container:!0,children:Object(n.jsx)(f.a,{item:!0,children:Object(n.jsx)(s.b,{to:"/signup",children:"Don't have an account? Sign Up"})})})]})]}),Object(n.jsx)(x.a,{mt:8,children:Object(n.jsx)(w,{})})]})},T=a(29),I=a(90),A=a(193),W=a(185),B=a(186),D=a(88),P=a.n(D),q=a(177),F=a(89),E=a.n(F),_=a(32),z=a(92),L=a(180),V=a(181),M=a(182),U=a(183);function R(e){null===sessionStorage.getItem("AuthToken")&&e.push("/login")}var G=Object(v.a)((function(e){return{paper_root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),height:e.spacing(16)}}}}));function J(e){var t=G(),a=r.a.useState({firstName:"",lastName:"",username:"",email:"",phoneNumber:"",country:""}),o=Object(T.a)(a,2),i=o[0],c=o[1];r.a.useEffect((function(){R(e);var t=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(t)},N.a.get("/user").then((function(e){c({firstName:e.data.userCredentials.firstName,lastName:e.data.userCredentials.lastName,email:e.data.userCredentials.email,phoneNumber:e.data.userCredentials.phoneNumber,country:e.data.userCredentials.country,username:e.data.userCredentials.username})})).catch((function(t){console.log(t),e.push("/login")}))}),[]);var s=function(e){e.preventDefault(),console.log("in handle change function ");var t=e.target.value,a=e.target.name;"firstName"===a?c((function(e){return Object(_.a)(Object(_.a)({},e),{},{firstName:t})})):"lastName"===a?c((function(e){return Object(_.a)(Object(_.a)({},e),{},{lastName:t})})):"country"===a&&c((function(e){return Object(_.a)(Object(_.a)({},e),{},{country:t})})),console.log(i),console.log(a)},l=[];if(""!==i.firstName)for(var u in i)"email"===u||"phoneNumber"===u||"username"===u?l.push(Object(n.jsx)(f.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(m.a,{id:u,disabled:!0,fullWidth:!0,label:u,margin:"dense",name:u,variant:"outlined",defaultValue:i[u],onChange:s})})):l.push(Object(n.jsx)(f.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(m.a,{id:u,fullWidth:!0,label:u,margin:"dense",name:u,variant:"outlined",defaultValue:i[u],onChange:s})}));return Object(n.jsxs)("div",{children:[Object(n.jsxs)(L.a,{children:[Object(n.jsx)(V.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(z.a,{elevation:3,className:t.paper_root,children:[Object(n.jsx)(O.a,{gutterBottom:!0,variant:"h3",children:"".concat(i.firstName," ").concat(i.lastName)}),Object(n.jsx)("br",{}),Object(n.jsx)(O.a,{guttetrBottom:!0,variant:"h3",children:"( ".concat(i.username," )")})]})})}),Object(n.jsx)(M.a,{})]}),Object(n.jsx)("br",{}),Object(n.jsx)(L.a,{children:Object(n.jsxs)("form",{autoComplete:"off",noValidate:!0,children:[Object(n.jsx)(M.a,{}),Object(n.jsx)(V.a,{children:Object(n.jsx)(f.a,{container:!0,spacing:3,children:l})}),Object(n.jsx)(M.a,{}),Object(n.jsx)(U.a,{})]})}),Object(n.jsx)(d.a,{color:"primary",variant:"contained",type:"submit",onClick:function(t){t.preventDefault(),R(e);var a=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(a)};var n={firstName:i.firstName,lastName:i.lastName,country:i.country};N.a.post("/user",n).then((function(e){console.log(e),window.location.reload()})).catch((function(t){403===t.response.status&&e.push("/login"),console.log(t)}))},disabled:!i.firstName||!i.lastName||!i.country,children:"Save details"})]})}var Y=a(86),H=a.n(Y),K=a(84),Q=a.n(K),X=a(85),Z=a.n(X),$=a(191),ee=a(87),te=a.n(ee),ae=a(184),ne=Object(v.a)((function(e){return{car_title:{fontSize:14},card_root:{minWidth:275},adder:{margin:e.spacing(2),position:"relative"},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),oe=r.a.forwardRef((function(e,t){return Object(n.jsx)(ae.a,Object(_.a)({direction:"up",ref:t},e))}));function re(e){var t=ne(),a=r.a.useState(!1),o=Object(T.a)(a,2),i=o[0],c=o[1],s=r.a.useState(null),l=Object(T.a)(s,2),u=l[0],j=l[1],b=r.a.useState({title:"",body:""}),h=Object(T.a)(b,2),x=h[0],p=h[1],g=r.a.useState(null),v=Object(T.a)(g,2),y=v[0],C=v[1];r.a.useEffect((function(){var e=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(e)},N.a.get("/todos").then((function(e){j(e.data)})).catch((function(e){console.log(e)}))}),[]);var w,k=function(){c(!1)},S=function(e){e.preventDefault(),C(e.target.id),p({body:e.target.value})},I=function(){var e={url:"/todo/".concat(y),method:"put",data:x},t=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(t)},N()(e).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e)}))};return null!==u&&(w=u.map((function(e){return Object(n.jsxs)(L.a,{item:!0,xs:4,spacing:3,className:t.card_root,id:e.todoId,children:[Object(n.jsxs)(V.a,{children:[Object(n.jsx)(O.a,{className:t.card_title,color:"textSecondary",gutterBottom:!0,children:e.title}),Object(n.jsx)("br",{}),Object(n.jsx)(m.a,{defaultValue:e.body,id:e.todoId,InputProps:{disableUnderline:!0},onChange:S})]}),Object(n.jsxs)(U.a,{children:[Object(n.jsxs)(d.a,{color:"primary",onClick:I,children:[" ",Object(n.jsx)(Q.a,{})," save Edit "]}),Object(n.jsxs)(d.a,{color:"primary",onClick:function(t){!function(e){var t={url:"/todo/".concat(e),method:"delete"},a=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(a)},N()(t).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.log(e)}))}(e.todoId)},children:[" ",Object(n.jsx)(Z.a,{})," Delete "]})]})]},e.todoId)}))),Object(n.jsxs)("div",{children:[Object(n.jsxs)(f.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.adder,children:[Object(n.jsxs)(d.a,{variant:"outlined",color:"primary",onClick:function(){c(!0)},children:[Object(n.jsx)(H.a,{}),"Add More Todos"]}),Object(n.jsxs)($.a,{fullScreen:!0,open:i,onClose:k,TransitionComponent:oe,children:[Object(n.jsx)(W.a,{className:t.appBar,children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(q.a,{edge:"start",color:"inherit",onClick:k,"aria-label":"close",children:Object(n.jsx)(te.a,{})}),Object(n.jsx)(O.a,{variant:"h6",className:t.title,children:"Add Todo"}),Object(n.jsx)(d.a,{autoFocus:!0,color:"inherit",onClick:function(){k(),console.log(x);var e=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(e)};var t={url:"/todo",method:"post",data:x};N()(t).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.log(e)}))},children:"save"})]})}),Object(n.jsxs)("form",{noValidate:!0,children:[Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",autoComplete:"title",autoFocus:!0,onChange:function(e){p({title:e.target.value,body:x.body})}}),Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"body",label:"Body",type:"input",id:"body",onChange:function(e){p({title:x.title,body:e.target.value})}})]})]})]}),Object(n.jsx)(f.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",children:w})]})}var ie=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},car_title:{fontSize:14},card_root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"}}}));function ce(e){var t=ie(),a=Object(l.f)();R(a);var o=function(){sessionStorage.clear(),R(a)},i=r.a.useState(null),c=Object(T.a)(i,2),s=c[0],u=c[1],j=r.a.useState(null),m=Object(T.a)(j,2),b=m[0],h=m[1],f=function(){return"account"===b?Object(n.jsx)(J,{history:a}):Object(n.jsx)(re,{history:a})},x=function(e){u(null),"todos"===e.target.id&&h("todo"),"account"===e.target.id&&h("account"),"logout"===e.target.id&&o(),console.log(e.target.id)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(W.a,{position:"static",children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(q.a,{edge:"start",className:t.menuButton,color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},children:Object(n.jsx)(P.a,{})}),Object(n.jsxs)(I.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){u(null)},children:[Object(n.jsx)(A.a,{id:"todos",onClick:x,children:"Todos"}),Object(n.jsx)(A.a,{id:"account",onClick:x,children:"My account"}),Object(n.jsx)(A.a,{id:"logout",onClick:x,children:"Logout"})]}),Object(n.jsx)(O.a,{variant:"h6",className:t.title,children:"Todo App"}),Object(n.jsxs)(d.a,{variant:"contained",onClick:o,children:[" ",Object(n.jsx)(E.a,{})," Logout "]})]})}),Object(n.jsx)(f,{})]})}function se(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","Satyendra Tiwari"," ",(new Date).getFullYear(),"."]})}var le=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function ue(e){var t=le(),a=Object(l.f)(),o={firstName:"",lastName:"",email:"",phoneNumber:"",country:"",password:"",confirmPassword:"",username:""};return Object(n.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(j.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(u.a,{className:t.avatar,children:Object(n.jsx)(g.a,{})}),Object(n.jsx)(O.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsxs)(f.a,{container:!0,spacing:2,children:[Object(n.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return o.firstName=e.target.value}})}),Object(n.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return o.lastName=e.target.value}})}),Object(n.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{autoComplete:"phoneNumber",name:"PhoneNumber",variant:"outlined",required:!0,fullWidth:!0,id:"PhoneNumber",label:"PhoneNumber",pattern:"[7-9]{1}[0-9]{9}",autoFocus:!0,onChange:function(e){return o.phoneNumber=e.target.value}})}),Object(n.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"Country",label:"Country",name:"Country",autoComplete:"INDIA",onChange:function(e){return o.country=e.target.value}})}),Object(n.jsx)(f.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"username",name:"username",autoComplete:"username",onChange:function(e){return o.username=e.target.value}})}),Object(n.jsx)(f.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return o.email=e.target.value}})}),Object(n.jsx)(f.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return o.password=e.target.value}})}),Object(n.jsx)(f.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"confirmPassword",type:"password",id:"confirmPassword",autoComplete:"current-password",onChange:function(e){return o.confirmPassword=e.target.value}})}),Object(n.jsx)(f.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{control:Object(n.jsx)(h.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive updates via email."})})]}),Object(n.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault(),N.a.post("/signup",o).then((function(e){sessionStorage.setItem("AuthToken","Bearer ".concat(e.data.token)),a.push("/"),console.log(e.data.token)})).catch((function(e){alert("Email or userName already in use"),console.log(e)}))},children:"Sign Up"}),Object(n.jsx)(f.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(f.a,{item:!0,children:Object(n.jsx)(s.b,{to:"/login",children:"Already have an account? Sign in"})})})]})]}),Object(n.jsx)(x.a,{mt:5,children:Object(n.jsx)(se,{})})]})}var de=function(){return Object(n.jsx)(s.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:ce}),Object(n.jsx)(l.a,{exact:!0,path:"/login",component:S}),Object(n.jsx)(l.a,{exact:!0,path:"/signup",component:ue})]})})})},je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,195)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),o(e),r(e),i(e)}))};c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(de,{})}),document.getElementById("root")),je()}},[[141,1,2]]]);
//# sourceMappingURL=main.b3206a80.chunk.js.map