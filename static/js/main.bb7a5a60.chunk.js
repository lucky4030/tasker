(this.webpackJsonptask_handler=this.webpackJsonptask_handler||[]).push([[0],{150:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a(0),r=a.n(o),c=a(10),i=a.n(c),s=a(24),l=a(12),u=a(201),d=a(187),j=a(184),m=a(196),b=a(185),h=a(199),p=a(188),f=a(197),x=a(61),g=a.n(x),O=a(151),v=a(182),y=a(183),C=a(15),N=a.n(C);function w(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","Satyendra Tiwari"," ",(new Date).getFullYear(),"."]})}var k=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var S=function(e){var t=k(),a=" ",o=" ",r=Object(l.f)();return Object(n.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(j.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(u.a,{className:t.avatar,children:Object(n.jsx)(g.a,{})}),Object(n.jsx)(O.a,{component:"h1",variant:"h5",children:"Login"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return a=e.target.value}}),Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return o=e.target.value}}),Object(n.jsx)(b.a,{control:Object(n.jsx)(h.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault();var t={email:a,password:o};N.a.post("/login",t).then((function(e){sessionStorage.setItem("AuthToken","Bearer ".concat(e.data.token)),console.log("login successfull "),r.push("/")})).catch((function(e){console.error(e)}))},children:"Login"}),Object(n.jsx)(p.a,{container:!0,children:Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(s.b,{to:"/signup",children:"Don't have an account? Sign Up"})})})]})]}),Object(n.jsx)(f.a,{mt:8,children:Object(n.jsx)(w,{})})]})},T=a(30),A=a(96),I=a(202),W=a(194),B=a(195),D=a(94),P=a.n(D),q=a(186),F=a(95),E=a.n(F),_=a(31),z=a(98),L=a(189),V=a(190),M=a(191),R=a(192);function U(e){null===sessionStorage.getItem("AuthToken")&&e.push("/login")}var G=Object(v.a)((function(e){return{paper_root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),height:e.spacing(16)}}}}));function J(){var e=G(),t=Object(l.f)(),a=r.a.useState({firstName:"",lastName:"",username:"",email:"",phoneNumber:"",country:""}),o=Object(T.a)(a,2),c=o[0],i=o[1];r.a.useEffect((function(){U(t);var e=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(e)},N.a.get("https://us-central1-todoapp-b4b6c.cloudfunctions.net/api/user").then((function(e){i({firstName:e.data.userCredentials.firstName,lastName:e.data.userCredentials.lastName,email:e.data.userCredentials.email,phoneNumber:e.data.userCredentials.phoneNumber,country:e.data.userCredentials.country,username:e.data.userCredentials.username})})).catch((function(e){console.log(e),t.push("/login")}))}),[]);var s=function(e){e.preventDefault(),console.log("in handle change function ");var t=e.target.value,a=e.target.name;"firstName"===a?i((function(e){return Object(_.a)(Object(_.a)({},e),{},{firstName:t})})):"lastName"===a?i((function(e){return Object(_.a)(Object(_.a)({},e),{},{lastName:t})})):"country"===a&&i((function(e){return Object(_.a)(Object(_.a)({},e),{},{country:t})})),console.log(c),console.log(a)},u=[];if(""!==c.firstName)for(var j in c)"email"===j||"phoneNumber"===j||"username"===j?u.push(Object(n.jsx)(p.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(m.a,{id:j,disabled:!0,fullWidth:!0,label:j,margin:"dense",name:j,variant:"outlined",defaultValue:c[j],onChange:s})})):u.push(Object(n.jsx)(p.a,{item:!0,md:6,xs:12,children:Object(n.jsx)(m.a,{id:j,fullWidth:!0,label:j,margin:"dense",name:j,variant:"outlined",defaultValue:c[j],onChange:s})}));return Object(n.jsxs)("div",{children:[Object(n.jsxs)(L.a,{children:[Object(n.jsx)(V.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(z.a,{elevation:3,className:e.paper_root,children:[Object(n.jsx)(O.a,{gutterBottom:!0,variant:"h3",children:"".concat(c.firstName," ").concat(c.lastName)}),Object(n.jsx)("br",{}),Object(n.jsx)(O.a,{guttetrBottom:!0,variant:"h3",children:"( ".concat(c.username," )")})]})})}),Object(n.jsx)(M.a,{})]}),Object(n.jsx)("br",{}),Object(n.jsx)(L.a,{children:Object(n.jsxs)("form",{autoComplete:"off",noValidate:!0,children:[Object(n.jsx)(M.a,{}),Object(n.jsx)(V.a,{children:Object(n.jsx)(p.a,{container:!0,spacing:3,children:u})}),Object(n.jsx)(M.a,{}),Object(n.jsx)(R.a,{})]})}),Object(n.jsx)(d.a,{color:"primary",variant:"contained",type:"submit",onClick:function(e){e.preventDefault(),U(t);var a=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(a)};var n={firstName:c.firstName,lastName:c.lastName,country:c.country};N.a.post("/user",n).then((function(e){console.log(e),window.location.reload()})).catch((function(e){403===e.response.status&&t.push("/login"),console.log(e)}))},disabled:!c.firstName||!c.lastName||!c.country,children:"Save details"})]})}var Y=a(92),H=a.n(Y),K=a(90),Q=a.n(K),X=a(91),Z=a.n(X),$=a(200),ee=a(93),te=a.n(ee),ae=a(193),ne=Object(v.a)((function(e){return{car_title:{fontSize:14},card_root:{minWidth:275},adder:{margin:e.spacing(2),position:"relative"},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),oe=r.a.forwardRef((function(e,t){return Object(n.jsx)(ae.a,Object(_.a)({direction:"up",ref:t},e))}));function re(e){var t=ne(),a=r.a.useState(!1),o=Object(T.a)(a,2),c=o[0],i=o[1],s=r.a.useState(null),l=Object(T.a)(s,2),u=l[0],j=l[1],b=r.a.useState({title:"",body:""}),h=Object(T.a)(b,2),f=h[0],x=h[1],g=r.a.useState(null),v=Object(T.a)(g,2),y=v[0],C=v[1];r.a.useEffect((function(){var e=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(e)},N.a.get("https://us-central1-todoapp-b4b6c.cloudfunctions.net/api/todos").then((function(e){j(e.data)})).catch((function(e){console.log(e)}))}),[]);for(var w=function(){i(!1)},k=function(e){e.preventDefault(),C(e.target.id),x({body:e.target.value})},S=function(){var e={url:"https://us-central1-todoapp-b4b6c.cloudfunctions.net/api/todo/".concat(y),method:"put",data:f},t=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(t)},N()(e).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.log(e)}))},A=[],I=function(e){var a=u[e];""===a.title&&""===a.body||A.push(Object(n.jsxs)(L.a,{item:!0,xs:4,spacing:3,className:t.card_root,id:a.todoId,children:[Object(n.jsxs)(V.a,{children:[Object(n.jsx)(O.a,{className:t.card_title,color:"textSecondary",gutterBottom:!0,children:a.title}),Object(n.jsx)("br",{}),Object(n.jsx)(m.a,{defaultValue:a.body,id:a.todoId,InputProps:{disableUnderline:!0},onChange:k})]}),Object(n.jsxs)(R.a,{children:[Object(n.jsxs)(d.a,{color:"primary",onClick:S,children:[" ",Object(n.jsx)(Q.a,{})," save Edit "]}),Object(n.jsxs)(d.a,{color:"primary",onClick:function(e){!function(e){var t={url:"https://us-central1-todoapp-b4b6c.cloudfunctions.net/api/todo/".concat(e),method:"delete"},a=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(a)},N()(t).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.log(e)}))}(a.todoId)},children:[" ",Object(n.jsx)(Z.a,{})," Delete "]})]})]},e))},D=0;null!==u&&D<u.length;D++)I(D);return Object(n.jsxs)("div",{children:[Object(n.jsxs)(p.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.adder,children:[Object(n.jsxs)(d.a,{variant:"outlined",color:"primary",onClick:function(){i(!0)},children:[Object(n.jsx)(H.a,{}),"Add More Todos"]}),Object(n.jsxs)($.a,{fullScreen:!0,open:c,onClose:w,TransitionComponent:oe,children:[Object(n.jsx)(W.a,{className:t.appBar,children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(q.a,{edge:"start",color:"inherit",onClick:w,"aria-label":"close",children:Object(n.jsx)(te.a,{})}),Object(n.jsx)(O.a,{variant:"h6",className:t.title,children:"Add Todo"}),Object(n.jsx)(d.a,{autoFocus:!0,color:"inherit",onClick:function(){w(),console.log(f);var e=sessionStorage.getItem("AuthToken");N.a.defaults.headers.common={Authorization:"".concat(e)};var t={url:"https://us-central1-todoapp-b4b6c.cloudfunctions.net/api/todo",method:"post",data:f};N()(t).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.log(e)}))},children:"save"})]})}),Object(n.jsxs)("form",{noValidate:!0,children:[Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",autoComplete:"title",autoFocus:!0,onChange:function(e){x({title:e.target.value,body:f.body})}}),Object(n.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"body",label:"Body",type:"input",id:"body",onChange:function(e){x({title:f.title,body:e.target.value})}})]})]})]}),Object(n.jsx)(p.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",children:A})]})}var ce=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},car_title:{fontSize:14},card_root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"}}}));function ie(e){var t=ce(),a=Object(l.f)();U(a);var o=function(){sessionStorage.clear(),U(a)},c=r.a.useState(null),i=Object(T.a)(c,2),s=i[0],u=i[1],j=r.a.useState("Todo"),m=Object(T.a)(j,2),b=m[0],h=m[1],p=function(e){u(null),"todos"===e.target.id&&h("Todo"),"account"===e.target.id&&h("Account"),"logout"===e.target.id&&o(),console.log(e.target.id)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(W.a,{position:"static",children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(q.a,{edge:"start",className:t.menuButton,color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},children:Object(n.jsx)(P.a,{})}),Object(n.jsxs)(A.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){u(null)},children:[Object(n.jsx)(I.a,{id:"todos",onClick:p,children:"Todos"}),Object(n.jsx)(I.a,{id:"account",onClick:p,children:"My account"}),Object(n.jsx)(I.a,{id:"logout",onClick:p,children:"Logout"})]}),Object(n.jsx)(O.a,{variant:"h6",className:t.title,children:"Todo App"}),Object(n.jsxs)(d.a,{variant:"contained",onClick:o,children:[" ",Object(n.jsx)(E.a,{})," Logout "]})]})}),Object(n.jsxs)("div",{children:["Account"===b&&Object(n.jsx)(J,{}),"Todo"===b&&Object(n.jsx)(re,{history:a})]})]})}function se(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","Satyendra Tiwari"," ",(new Date).getFullYear(),"."]})}var le=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function ue(e){var t=le(),a=Object(l.f)(),o={firstName:"",lastName:"",email:"",phoneNumber:"",country:"",password:"",confirmPassword:"",username:""};return Object(n.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(j.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(u.a,{className:t.avatar,children:Object(n.jsx)(g.a,{})}),Object(n.jsx)(O.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsxs)(p.a,{container:!0,spacing:2,children:[Object(n.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return o.firstName=e.target.value}})}),Object(n.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return o.lastName=e.target.value}})}),Object(n.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{autoComplete:"phoneNumber",name:"PhoneNumber",variant:"outlined",required:!0,fullWidth:!0,id:"PhoneNumber",label:"PhoneNumber",pattern:"[7-9]{1}[0-9]{9}",autoFocus:!0,onChange:function(e){return o.phoneNumber=e.target.value}})}),Object(n.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"Country",label:"Country",name:"Country",autoComplete:"INDIA",onChange:function(e){return o.country=e.target.value}})}),Object(n.jsx)(p.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"username",name:"username",autoComplete:"username",onChange:function(e){return o.username=e.target.value}})}),Object(n.jsx)(p.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return o.email=e.target.value}})}),Object(n.jsx)(p.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return o.password=e.target.value}})}),Object(n.jsx)(p.a,{item:!0,xs:12,children:Object(n.jsx)(m.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"confirmPassword",type:"password",id:"confirmPassword",autoComplete:"current-password",onChange:function(e){return o.confirmPassword=e.target.value}})}),Object(n.jsx)(p.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{control:Object(n.jsx)(h.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive updates via email."})})]}),Object(n.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault(),N.a.post("/signup",o).then((function(e){sessionStorage.setItem("AuthToken","Bearer ".concat(e.data.token)),a.push("/"),console.log(e.data.token)})).catch((function(e){alert("Email or userName already in use"),console.log(e)}))},children:"Sign Up"}),Object(n.jsx)(p.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(p.a,{item:!0,children:Object(n.jsx)(s.b,{to:"/login",children:"Already have an account? Sign in"})})})]})]}),Object(n.jsx)(f.a,{mt:5,children:Object(n.jsx)(se,{})})]})}var de=function(){return Object(n.jsx)(s.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:ie}),Object(n.jsx)(l.a,{exact:!0,path:"/login",component:S}),Object(n.jsx)(l.a,{exact:!0,path:"/signup",component:ue})]})})})},je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,204)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),o(e),r(e),c(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(de,{})}),document.getElementById("root")),je()}},[[150,1,2]]]);
//# sourceMappingURL=main.bb7a5a60.chunk.js.map